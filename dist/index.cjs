"use strict";var m=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var b=(a,e)=>{for(var i in e)m(a,i,{get:e[i],enumerable:!0})},B=(a,e,i,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of N(e))!w.call(a,t)&&t!==i&&m(a,t,{get:()=>e[t],enumerable:!(o=S(e,t))||o.enumerable});return a};var C=a=>B(m({},"__esModule",{value:!0}),a);var L={};b(L,{asciiToUnicode:()=>X,unicodeToAscii:()=>y});module.exports=C(L);var x=require("querystring"),r=class{static utf16decode(e){let i=e.length,o=[],t=0,n,c;for(;t<i;){if(n=e.charCodeAt(t++),(n&63488)===55296){if(c=e.charCodeAt(t++),(n&64512)!==55296||(c&64512)!==56320)throw new RangeError("Punycode UTF-16 decode, illegal UTF-16 sequence");n=((n&1023)<<10)+(c&1023)+65536}o.push(n)}return o}static utf16encode(e){let i=e.length,o=[],t=0,n;for(;t<i;){if(n=e[t++],(n&63488)===55296)throw new RangeError("Punycode UTF-16 encode, illegal UTF-16 value");n>65535&&(n-=65536,o.push(String.fromCharCode(n>>>10&1023|55296)),n=56320|n&1023),o.push(String.fromCharCode(n))}return o.join("")}static decodeDigit(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:r.BASE}static encodeDigit(e,i){return e+22+75*(e<26)-((i!==0)<<5)}static adapt(e,i,o=!1){let t;for(e=o?Math.floor(e/r.DAMP):e>>1,e+=Math.floor(e/i),t=0;e>(r.BASE-r.T_MIN)*r.T_MAX>>1;t+=r.BASE)e=Math.floor(e/(r.BASE-r.T_MIN));return Math.floor(t+(r.BASE-r.T_MIN+1)*e/(e+r.SKEW))}static encodeBasic(e,i=!1){return e-=(e-97<26)<<5,e+((!i&&e-65<26)<<5)}static decode(e,i=!0){let o=[],t=[],n=e.length,c,p,d,l,h,I,M,g,u,A,T,E=r.INITIAL_N,f=0;for(p=r.INITIAL_BIAS,d=e.lastIndexOf(r.DELIMITER),d<0&&(d=0),l=0;l<d;++l){if(i&&(t[o.length]=e.charCodeAt(l)-65<26),e.charCodeAt(l)>=128)throw new RangeError("Punycode illegal input >= 0x80");o.push(e.charCodeAt(l))}for(h=d>0?d+1:0;h<n;){for(I=f,M=1,g=r.BASE;;g+=r.BASE){if(h>=n)throw RangeError("Punycode bad input 1");if(u=r.decodeDigit(e.charCodeAt(h++)),u>=r.BASE)throw RangeError("Punycode bad input 2");if(u>Math.floor((r.MAX_INT-f)/M))throw RangeError("Punycode overflow 1");if(f+=u*M,A=g<=p?r.T_MIN:g>=p+r.T_MAX?r.T_MAX:g-p,u<A)break;if(M>Math.floor(r.MAX_INT/(r.BASE-A)))throw RangeError("Punycode overflow 2");M*=r.BASE-A}if(c=o.length+1,p=r.adapt(f-I,c,I===0),Math.floor(f/c)>r.MAX_INT-E)throw RangeError("Punycode overflow 3");E+=Math.floor(f/c),f%=c,i&&t.splice(f,0,e.charCodeAt(h-1)-65<26),o.splice(f,0,E),f++}if(i)for(f=0,T=o.length;f<T;f++)t[f]&&(o[f]=String.fromCharCode(o[f]).toUpperCase().charCodeAt(0));return r.utf16encode(o)}static encode(e,i=!1){let o,t,n,c,p,d,l,h;i&&(h=r.utf16decode(e));let I=r.utf16decode(e.toLowerCase()),M=I.length;if(i)for(t=0;t<M;t++)h[t]=I[t]!==h[t];let g=[],u=r.INITIAL_N,A=0,T=r.INITIAL_BIAS;for(t=0;t<M;++t)I[t]<128&&g.push(String.fromCharCode(h?r.encodeBasic(I[t],h[t]):I[t]));let E=g.length;for(o=g.length,E>0&&g.push(r.DELIMITER);o<M;){for(n=r.MAX_INT,t=0;t<M;++t)l=I[t],l>=u&&l<n&&(n=l);if(n-u>Math.floor((r.MAX_INT-A)/(o+1)))throw RangeError("Punycode overflow 1");for(A+=(n-u)*(o+1),u=n,t=0;t<M;++t){if(l=I[t],l<u&&++A>r.MAX_INT)throw RangeError("Punycode overflow 2");if(l===u){for(c=A,p=r.BASE;d=p<=T?r.T_MIN:p>=T+r.T_MAX?r.T_MAX:p-T,!(c<d);p+=r.BASE)g.push(String.fromCharCode(r.encodeDigit(d+(c-d)%(r.BASE-d),0))),c=Math.floor((c-d)/(r.BASE-d));g.push(String.fromCharCode(r.encodeDigit(c,i&&h[t]?1:0))),T=r.adapt(A,o+1,o===E),A=0,++o}}++A,++u}return g.join("")}static toAscii(e,i=!0){let o=e.split("."),t=[];for(let n=0;n<o.length;++n){let c=o[n];t.push(c.match(/[^A-Za-z0-9-]/)?"xn--"+r.encode(c,i):c)}return t.join(".")}static toUnicode(e,i=!0){let o=e.split("."),t=[];for(let n=0;n<o.length;++n){let c=o[n];t.push(c.match(/^xn--/)?r.decode(c.slice(4),i):c)}return t.join(".")}},s=r;s.BASE=36,s.DAMP=700,s.DELIMITER="-",s.INITIAL_BIAS=72,s.INITIAL_N=128,s.MAX_INT=2147483647,s.SKEW=38,s.T_MAX=26,s.T_MIN=1;function y(a,e=a,i=!0,o=!0){try{let t;if(i?t=(0,x.stringify)({"":s.toAscii(a)},void 0," ").trim():t=s.toAscii(a),t===`xn--${a}`||t===`xn--${a}-`)return a;if(i&&o&&(a.includes("@")||a.includes("#"))){let n=a.replace(/@/g,"").replace(/#/g,""),c=t.replace(/%40/g,"").replace(/%23/g,"").replace(/[-.]+/g,".");if(c===`xn.${n}`||c===`xn.${n}-`)return a}return t}catch{return e}}function X(a,e=a,i=!0){try{return i?s.toUnicode(Object.keys((0,x.parse)(a))[0]):s.toUnicode(a)}catch{return e}}0&&(module.exports={asciiToUnicode,unicodeToAscii});
